<html>

  <head>
    <title>person</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://unpkg.com/@stencila/thema@1/dist/themes/stencila/styles.css"
      rel="stylesheet">
    <script src="https://unpkg.com/@stencila/thema@1/dist/themes/stencila/index.js"
      type="text/javascript"></script>
    <script
      src="https://unpkg.com/@stencila/components@&lt;=1/dist/stencila-components/stencila-components.esm.js"
      type="module"></script>
    <script
      src="https://unpkg.com/@stencila/components@&lt;=1/dist/stencila-components/stencila-components.js"
      type="text/javascript"></script>
  </head>

  <body>
    <article itemtype="https://schema.org/Article" itemscope="true">
      <h1 itemprop="headline">person</h1>
      <h1 id="-a-codec-for-plain-text-representation-of-humans"><code>person</code>: a codec for
        plain text representation of humans</h1>
      <p>The <code>person</code> codec is most often used for decoding a simple string of plain text
        representing a person e.g. in the YAML header of a R Markdown file, or the
        <code>package.json</code> file of a NPM Javascript package.</p>
      <h2 id="decoding-4">Decoding</h2>
      <p>Decoding a string is done in two phases.</p>
      <h3 id="orcid-detection-and-use">ORCID detection and use</h3>
      <p>If the string contains an <a href="https://orcid.org">ORCID</a>, then the <a
          href="../orcid"><code>orcid</code></a> codec is used to fetch the metadata for that person
        and other data in the string is ignored. For example,</p>
      <pre
        data-import="josiah"><code class="language-person">Miss Josiah Carbeeeerry (https://orcid.org/0000-0002-1825-0097)</code></pre>
      <p>is decoded to,</p>
      <pre data-export="josiah"><code class="language-json">{
  &quot;id&quot;: &quot;http://orcid.org/0000-0002-1825-0097&quot;,
  &quot;type&quot;: &quot;Person&quot;,
  &quot;url&quot;: &quot;http://library.brown.edu/about/hay/carberry.php&quot;,
  &quot;affiliations&quot;: [
    {
      &quot;type&quot;: &quot;Organization&quot;,
      &quot;name&quot;: &quot;Wesleyan University&quot;,
      &quot;alternateNames&quot;: [
        &quot;Psychoceramics&quot;
      ]
    },
    {
      &quot;type&quot;: &quot;Organization&quot;,
      &quot;name&quot;: &quot;Brown University&quot;,
      &quot;alternateNames&quot;: [
        &quot;Psychoceramics&quot;
      ]
    }
  ],
  &quot;alternateNames&quot;: [
    &quot;Josiah Stinkney Carberry&quot;,
    &quot;J. Carberry&quot;,
    &quot;J. S. Carberry&quot;
  ],
  &quot;familyNames&quot;: [
    &quot;Carberry&quot;
  ],
  &quot;givenNames&quot;: [
    &quot;Josiah&quot;
  ]
}</code></pre>
      <p>The ORCID can appear anywhere in the string, optionally prefixed with
        <code>http://orcid.org/</code> or <code>ORCID</code>. For example, this raw ORCID,</p>
      <pre data-import="stephen"><code class="language-person">0000-0002-9079-593X</code></pre>
      <p>is decoded to</p>
      <pre data-export="stephen"><code class="language-json">{
  &quot;id&quot;: &quot;http://orcid.org/0000-0002-9079-593X&quot;,
  &quot;type&quot;: &quot;Person&quot;,
  &quot;affiliations&quot;: [
    {
      &quot;type&quot;: &quot;Organization&quot;,
      &quot;name&quot;: &quot;University of Cambridge&quot;,
      &quot;alternateNames&quot;: [
        &quot;Applied Mathematics and Theoretical Physics&quot;
      ]
    },
    {
      &quot;type&quot;: &quot;Organization&quot;,
      &quot;name&quot;: &quot;University of Cambridge&quot;,
      &quot;alternateNames&quot;: [
        &quot;Mathematics&quot;
      ]
    },
    {
      &quot;type&quot;: &quot;Organization&quot;,
      &quot;name&quot;: &quot;California Institute of Technology&quot;,
      &quot;alternateNames&quot;: [
        &quot;Physics, Mathematics and Astronomy&quot;
      ]
    }
  ],
  &quot;familyNames&quot;: [
    &quot;Hawking&quot;
  ],
  &quot;givenNames&quot;: [
    &quot;Stephen&quot;
  ]
}</code></pre>
      <h3 id="text-parsing">Text parsing</h3>
      <p>If no ORCID is detected, or if ORCID decoding fails (e.g. due to no network access) then
        the text string is parsed to extract:</p>
      <ul>
        <li>
          <p>given names (and or initials)</p>
        </li>
        <li>
          <p>family name</p>
        </li>
        <li>
          <p>a prefix (title) e.g. <code>Mr</code>, <code>Dr</code>, <code>Her Majesty</code></p>
        </li>
        <li>
          <p>a suffix e.g. <code>PhD</code>, <code>Esquire</code>, <code>Jnr</code>,
            <code>III</code></p>
        </li>
        <li>
          <p>email (inside angle brackets <code>&lt;&gt;</code>)</p>
        </li>
        <li>
          <p>URL (inside parentheses <code>()</code>)</p>
        </li>
      </ul>
      <p>For a complete list of the prefixes and suffixes supported see the <a
          href="https://github.com/dschnelldavis/parse-full-name/blob/master/index.js#L108"><code>parse-full-name</code></a>
        library used by this codec.</p>
      <p>All of these properties are optional and &quot;last name first followed by comma&quot;
        order is also supported. For example,</p>
      <pre data-import="john"><code class="language-person">Doe, J. PhD</code></pre>
      <p>is decoded to,</p>
      <pre data-export="john"><code class="language-json">{
  &quot;givenNames&quot;: [
    &quot;J.&quot;
  ],
  &quot;familyNames&quot;: [
    &quot;Doe&quot;
  ],
  &quot;honorificSuffix&quot;: &quot;PhD&quot;,
  &quot;type&quot;: &quot;Person&quot;
}</code></pre>
      <p>whereas this, more complete example,</p>
      <pre
        data-import="jane"><code class="language-person">Judge Jane J. Jones PhD IV (http://example.org/jones/jane) &lt;jjjj@example.org&gt;</code></pre>
      <p>is decoded to,</p>
      <pre data-export="jane"><code class="language-json">{
  &quot;givenNames&quot;: [
    &quot;Jane&quot;,
    &quot;J.&quot;
  ],
  &quot;familyNames&quot;: [
    &quot;Jones&quot;
  ],
  &quot;honorificPrefix&quot;: &quot;Judge&quot;,
  &quot;honorificSuffix&quot;: &quot;PhD, IV&quot;,
  &quot;emails&quot;: [
    &quot;jjjj@example.org&quot;
  ],
  &quot;url&quot;: &quot;http://example.org/jones/jane&quot;,
  &quot;type&quot;: &quot;Person&quot;
}</code></pre>
      <h2 id="encoding-4">Encoding</h2>
      <p>When encoding a <code>Person</code> this codec simply constructs a string that is
        compatible with the decoding above. That means that other properties (e.g.
        <code>affiliations</code>) will be lost. For example, this <code>Person</code> node,</p>
      <pre data-import="jill"><code class="language-json">{
  &quot;type&quot;: &quot;Person&quot;,
  &quot;givenNames&quot;: [&quot;Jill&quot;, &quot;J.&quot;],
  &quot;familyNames&quot;: [&quot;James&quot;],
  &quot;emails&quot;: [&quot;jill@example.com&quot;],
  &quot;url&quot;: &quot;http://example.com/jill&quot;,
  &quot;honorificPrefix&quot;: &quot;Dr&quot;,
  &quot;honorificSuffix&quot;: &quot;PhD&quot;,
  &quot;affiliations&quot;: [
    {
      &quot;type&quot;: &quot;Organization&quot;,
      &quot;name&quot;: &quot;Example Corp.&quot;
    }
  ]
}</code></pre>
      <p>is encoded by the <code>person</code> codec as,</p>
      <pre
        data-export="jill"><code class="language-person">Dr Jill J. James PhD &lt;jill@example.com&gt; (http://example.com/jill)</code></pre>
    </article>
  </body>

</html>